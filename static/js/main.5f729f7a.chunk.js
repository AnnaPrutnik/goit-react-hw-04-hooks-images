(this.webpackJsonphomework1=this.webpackJsonphomework1||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(8),o=c.n(r),s=(c(32),c(22)),u=c(23),i=c(27),l=c(26),b=(c(33),c(4)),j=(c(34),c(1));function m(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(b.a)(c,2),r=a[0],o=a[1];return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.target.value)}})]})})}var f=c(11),h=c.n(f),d=c(13),O=c(24);c(37),c(38);function p(e){var t=e.src,c=e.alt,n=e.dataSource,a=e.onClick;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:t,alt:c,className:"ImageGalleryItem-image",onClick:a,"data-source":n})})}c(39);function v(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}c(40);var g=c(25),x=c.n(g);c(61);function S(){return Object(j.jsx)(x.a,{type:"ThreeDots",color:"#3f51b5",className:"Loader",height:100,width:100,timeout:3e3})}c(62);var y=document.getElementById("modal-root");function k(e){var t=e.url,c=e.alt,a=e.onClose,o=Object(n.useCallback)((function(e){"Escape"===e.code&&a()}),[a]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}),[o]),Object(r.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:t,alt:c})})}),y)}k.defaultProps={alt:"Modal for current picture"};var w=c(12),C=c.n(w);var N=function(e){var t=e.searchValue,c=Object(n.useState)([]),a=Object(b.a)(c,2),r=a[0],o=a[1],s=Object(n.useState)(!1),u=Object(b.a)(s,2),i=u[0],l=u[1],m=Object(n.useState)(!1),f=Object(b.a)(m,2),g=f[0],x=f[1],y=Object(n.useState)(""),w=Object(b.a)(y,2),N=w[0],E=w[1],I=Object(n.useState)(""),L=Object(b.a)(I,2),F=L[0],T=L[1],V=Object(n.useRef)(1);Object(n.useEffect)((function(){R(),G(),B()}),[t]);var R=function(){V.current=1,o([])},B=function(){var e=setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),clearTimeout(e)}),1e3)},G=function(){var e=Object(O.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,n=t,a=V.current,C.a.defaults.baseURL="https://pixabay.com/api/",C.a.get("?q=".concat(n,"&page=").concat(a,"&key=").concat("23114500-22e254b478d4c1f3e17503cc3","&image_type=photo&orientation=horizontal&per_page=").concat(12)).then((function(e){return e.data.hits}));case 4:(c=e.sent).length>0&&(o((function(e){return[].concat(Object(d.a)(e),Object(d.a)(c))})),l(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),l(!1),console.log(e.t0);case 12:case"end":return e.stop()}var n,a}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(e){var t=e.target,c=t.dataset.source,n=t.alt;E(c),T(n),U()},U=function(){x(!g)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:"ImageGallery",children:r.length>0&&r.map((function(e){return Object(j.jsx)(p,{src:e.webformatURL,alt:e.tags,onClick:M,dataSource:e.largeImageURL},e.id)}))}),i?Object(j.jsx)(S,{}):r.length>0&&Object(j.jsx)(v,{onClick:function(){V.current+=1,G(),B()}}),g&&Object(j.jsx)(k,{onClose:U,url:N,alt:F,pictures:r})]})},E=function(e){Object(i.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(s.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={searchValue:""},e.onSubmit=function(t){e.setState({searchValue:t})},e}return Object(u.a)(c,[{key:"render",value:function(){var e=this.onSubmit,t=this.state.searchValue;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(m,{onSubmit:e}),""!==t&&Object(j.jsx)(N,{searchValue:t})]})}}]),c}(n.Component),I=E;o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.5f729f7a.chunk.js.map